{{ define "main" }}
<section class="session-detail">
	<!-- Hero Section -->
	<header class="session-hero">
		<div class="session-hero-content">
			<div class="session-meta-header">
				{{ if .Params.format }}
				<div class="session-type-duration">
					<span class="session-type-badge">{{ .Params.format }}</span>
					{{ if .Params.duration }}
					<span class="session-duration-badge">{{ .Params.duration }} minutes</span>
					{{ end }}
				</div>
				{{ end }}
			</div>

			<h1 class="session-main-title">{{ .Title }}</h1>
			<span class="language {{ anchorize .Params.language }}"></span>
		</div>
	</header>

	<div class="session-content-wrapper">
		<!-- Speakers Section -->
		{{ if or .Params.speakers_info .Params.speakers }}
		<div class="session-speakers-section">
			<h2 class="section-heading">
				{{ if .Params.speakers_info }}
					{{ if gt (len .Params.speakers_info) 1 }}
						Speakers
					{{ else }}
						Speaker
					{{ end }}
				{{ else }}
					{{ if gt (len .Params.speakers) 1 }}
						Speakers
					{{ else }}
						Speaker
					{{ end }}
				{{ end }}
			</h2>
			<div class="speakers-grid">
				{{ if .Params.speakers_info }}
					{{ range .Params.speakers_info }}
					<div class="speaker-card-detail">
						<div class="speaker-card-inner">
							<img src="{{ .photoURL }}" alt="{{ .name }}" class="speaker-img-detail" />
							<div class="speaker-details">
								<strong class="speaker-name-detail">{{ .name }}</strong>
								{{ if .company }}
								<span class="speaker-company-detail">{{ .company }}</span>
								{{ end }}
								{{ if .city }}
								<span class="speaker-location-detail">{{ .city }}</span>
								{{ end }}
							</div>
						</div>
					</div>
					{{ end }}
				{{ else }}
					{{ range where .Site.RegularPages "Params.key" "in" .Params.speakers }}
					<div class="speaker-card-detail">
						<a href="/speakers/{{ .Params.key }}" class="speaker-card-inner">
							<img src="{{ .Params.photoURL }}" alt="{{ .Params.name }}" class="speaker-img-detail" />
							<div class="speaker-details">
								<strong class="speaker-name-detail">{{ .Params.name }}</strong>
								{{ if .Params.company }}
								<span class="speaker-company-detail">{{ .Params.company }}</span>
								{{ end }}
								{{ if .Params.city }}
								<span class="speaker-location-detail">{{ .Params.city }}</span>
								{{ end }}
							</div>
						</a>
					</div>
					{{ end }}
				{{ end }}
			</div>
		</div>
		{{ end }}

		<!-- Description Section -->
		<div class="session-description-section">
			<h2 class="section-heading">About This Session</h2>
			<div class="session-description-content">{{ .Content }}</div>
		</div>

		<!-- Media Section -->
		{{ if or .Params.videoId .Params.presentation }}
		<div class="session-media-section">
			<h2 class="section-heading">Resources</h2>

			{{ if .Params.videoId }}
			<div class="video-container">
				<div class="video-wrapper">
					<iframe src="//www.youtube.com/embed/{{ .Params.videoId }}"
					        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
					        allowfullscreen
					        title="{{ .Title }} - Video"></iframe>
				</div>
			</div>
			{{ end }}

			{{ if .Params.presentation }}
			<a class="presentation-link"
			   href="{{ .Params.presentation }}"
			   rel="noreferrer"
			   target="_blank">
				<div class="presentation-icon">{{ partial "icon.html" "slides" }}</div>
				<div class="presentation-text">
					<strong>View Presentation Slides</strong>
					<span>{{ .Title }}</span>
				</div>
			</a>
			{{ end }}
		</div>
		{{ end }}

		<!-- Back Link -->
		<div class="back-to-sessions">
			<a href="/sessions/" class="back-link">
				<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M12.5 5L7.5 10L12.5 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>
				Back to All Sessions
			</a>
		</div>
	</div>
</section>

<style>
.session-detail {
	min-height: 100vh;
	background: #f9fafb;
}

/* Hero Section */
.session-hero {
	background: linear-gradient(135deg, #0071BC 0%, #005a96 100%);
	padding: 4rem 2rem;
	color: white;
	position: relative;
	overflow: hidden;
}

.session-hero::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
	opacity: 0.5;
}

.session-hero-content {
	max-width: 1200px;
	margin: 0 auto;
	position: relative;
	z-index: 1;
}

.session-meta-header {
	display: flex;
	justify-content: flex-end;
	align-items: flex-start;
	margin-bottom: 2rem;
	flex-wrap: wrap;
	gap: 1rem;
}

.session-type-duration {
	display: flex;
	gap: 0.5rem;
	flex-wrap: wrap;
}

.session-type-badge {
	background: white;
	color: #0071BC;
	padding: 0.5rem 1rem;
	border-radius: 25px;
	font-size: 0.85rem;
	font-weight: 700;
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.session-duration-badge {
	background: rgba(255, 255, 255, 0.2);
	backdrop-filter: blur(10px);
	color: white;
	padding: 0.5rem 1rem;
	border-radius: 25px;
	font-size: 0.85rem;
	font-weight: 600;
	border: 1px solid rgba(255, 255, 255, 0.3);
}

.session-main-title {
	font-size: 3rem;
	font-weight: 800;
	line-height: 1.2;
	margin: 0;
	text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

/* Content Wrapper */
.session-content-wrapper {
	max-width: 1200px;
	margin: 1rem auto 0;
	padding: 0 2rem 4rem;
	position: relative;
	z-index: 2;
}

.section-heading {
	font-size: 1.75rem;
	font-weight: 700;
	color: #1f2937;
	margin-bottom: 1.5rem;
	padding-bottom: 0.75rem;
	border-bottom: 3px solid #0071BC;
	display: inline-block;
}

/* Speakers Section */
.session-speakers-section {
	background: white;
	border-radius: 20px;
	padding: 2.5rem;
	box-shadow: 0 10px 40px rgba(0,0,0,0.08);
	margin-bottom: 2rem;
}

.speakers-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
	gap: 1.5rem;
}

.speaker-card-detail {
	background: #f9fafb;
	border-radius: 16px;
	padding: 1.5rem;
	transition: all 0.3s ease;
	border: 2px solid transparent;
}

.speaker-card-detail:hover {
	transform: translateY(-4px);
	box-shadow: 0 8px 24px rgba(0,113,188,0.15);
	border-color: #0071BC;
	background: white;
}

.speaker-card-inner {
	display: flex;
	align-items: center;
	gap: 1.25rem;
	text-decoration: none;
	color: inherit;
}

.speaker-img-detail {
	width: 80px;
	height: 80px;
	border-radius: 50%;
	object-fit: cover;
	border: 3px solid #e5e7eb;
	transition: all 0.3s ease;
}

.speaker-card-detail:hover .speaker-img-detail {
	border-color: #0071BC;
	transform: scale(1.05);
}

.speaker-details {
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.speaker-name-detail {
	font-size: 1.15rem;
	color: #1f2937;
	font-weight: 700;
}

.speaker-company-detail {
	font-size: 0.95rem;
	color: #0071BC;
	font-weight: 600;
}

.speaker-location-detail {
	font-size: 0.85rem;
	color: #6b7280;
}

/* Description Section */
.session-description-section {
	background: white;
	border-radius: 20px;
	padding: 2.5rem;
	box-shadow: 0 10px 40px rgba(0,0,0,0.08);
	margin-bottom: 2rem;
}

.session-description-content {
	font-size: 1.1rem;
	line-height: 1.8;
	color: #374151;
}

.session-description-content p {
	margin-bottom: 1.25rem;
}

/* Media Section */
.session-media-section {
	background: white;
	border-radius: 20px;
	padding: 2.5rem;
	box-shadow: 0 10px 40px rgba(0,0,0,0.08);
	margin-bottom: 2rem;
}

.video-container {
	margin-bottom: 2rem;
}

.video-wrapper {
	position: relative;
	padding-bottom: 56.25%;
	height: 0;
	overflow: hidden;
	border-radius: 16px;
	box-shadow: 0 8px 24px rgba(0,0,0,0.12);
}

.video-wrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	border: 0;
}

.presentation-link {
	display: flex;
	align-items: center;
	gap: 1.5rem;
	padding: 1.5rem;
	background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
	border-radius: 16px;
	text-decoration: none;
	color: inherit;
	border: 2px solid #bae6fd;
	transition: all 0.3s ease;
}

.presentation-link:hover {
	transform: translateX(8px);
	box-shadow: 0 8px 24px rgba(0,113,188,0.15);
	border-color: #0071BC;
}

.presentation-icon {
	width: 56px;
	height: 56px;
	background: #0071BC;
	border-radius: 12px;
	display: flex;
	align-items: center;
	justify-content: center;
	flex-shrink: 0;
	transition: all 0.3s ease;
}

.presentation-link:hover .presentation-icon {
	transform: scale(1.1) rotate(5deg);
}

.presentation-icon svg {
	width: 28px;
	height: 28px;
	fill: white;
}

.presentation-text {
	display: flex;
	flex-direction: column;
	gap: 0.25rem;
}

.presentation-text strong {
	font-size: 1.15rem;
	color: #0071BC;
	font-weight: 700;
}

.presentation-text span {
	font-size: 0.95rem;
	color: #6b7280;
}

/* Back Link */
.back-to-sessions {
	margin-top: 3rem;
}

.back-link {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.75rem 1.5rem;
	background: white;
	color: #0071BC;
	text-decoration: none;
	border-radius: 12px;
	font-weight: 600;
	box-shadow: 0 4px 12px rgba(0,0,0,0.08);
	transition: all 0.3s ease;
	border: 2px solid #e5e7eb;
}

.back-link:hover {
	transform: translateX(-4px);
	box-shadow: 0 8px 20px rgba(0,113,188,0.15);
	border-color: #0071BC;
}

.back-link svg {
	transition: transform 0.3s ease;
}

.back-link:hover svg {
	transform: translateX(-4px);
}

/* Responsive Design */
@media (max-width: 768px) {
	.session-hero {
		padding: 3rem 1.5rem;
	}

	.session-main-title {
		font-size: 2rem;
	}

	.session-content-wrapper {
		padding: 0 1rem 3rem;
		margin-top: 1rem;
	}

	.session-speakers-section,
	.session-description-section,
	.session-media-section {
		padding: 1.5rem;
	}

	.section-heading {
		font-size: 1.5rem;
	}

	.speakers-grid {
		grid-template-columns: 1fr;
	}
}
</style>
{{ end }}
